{% extends "index.html" %}

{% block events %}

<div class="relative">
    <!-- Banner Image -->
    <div class="w-full h-[400px] relative">
        <img  src="https://t4.ftcdn.net/jpg/05/23/17/51/360_F_523175152_3JBaaFzHADLVZ2xifbflTpDx94HQu1rO.jpg" alt="Event Management System Banner" class="w-full h-full object-cover">
    </div>

    <!-- Overlay Content -->
    <div class="absolute inset-0 bg-black bg-opacity-50 flex flex-col items-center justify-center p-4">
        <!-- Title and Subtitle -->
        <h1 class="text-4xl md:text-5xl font-bold text-white mb-2 text-center">
            Event Management System
        </h1>
        <p class="text-xl md:text-2xl text-white mb-8 text-center">
            Plan, Organize, and Execute Flawless Events
        </p>

        <!-- Search Field and Button -->
        <form method="GET" action="/" class="w-full max-w-md flex">
            <input
                type="text"
                name="search"
                placeholder="Search events..."
                class="w-full px-4 py-2 rounded-l-lg focus:outline-none"
                value="{{ request.GET.search|default:'' }}" 
            >
            <button class="bg-blue-600 text-white px-6 py-2 rounded-r-lg hover:bg-blue-700 transition duration-300">
                Search
            </button>
        </form>
        
    </div>
</div>

<div class="container mx-auto px-4 py-8">
    <h1 class="text-4xl font-extrabold text-center text-purple-800 mb-8">All Events</h1>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        {% for event in events %}
        <div class="bg-white w-full flex flex-col md:flex-row items-start shadow-lg rounded-xl overflow-hidden transition duration-300 ease-in-out transform hover:-translate-y-1 hover:shadow-xl">
            <div class="w-full md:w-2/5 h-[200px] md:h-full">
                <img 
                    src="https://images.pexels.com/photos/50675/banquet-wedding-society-deco-50675.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" 
                    alt="{{ event.name }}" 
                    class="w-full h-full object-cover"
                >
            </div>
            <div class="w-full md:w-3/5 p-6">
                <h2 class="text-2xl font-bold text-purple-700 mb-3">{{ event.name }}</h2>
                <p class="text-gray-600 mb-4">{{ event.description }}</p>
                <div class="space-y-2">
                    <p class="text-gray-800 flex items-center">
                        <i class="fas fa-calendar-alt text-purple-500 mr-2"></i>
                        <span class="font-semibold">Date:</span> {{ event.date }}
                    </p>
                    <p class="text-gray-800 flex items-center">
                        <i class="fas fa-clock text-purple-500 mr-2"></i>
                        <span class="font-semibold">Time:</span> {{ event.time }}
                    </p>
                    <p class="text-gray-800 flex items-center">
                        <i class="fas fa-map-marker-alt text-purple-500 mr-2"></i>
                        <span class="font-semibold">Location:</span> {{ event.location }}
                    </p>
                    <p class="text-gray-800 flex items-center">
                        <i class="fas fa-tag text-purple-500 mr-2"></i>
                        <span class="font-semibold">Category:</span> {{ event.category.name }}
                    </p>
                </div>
              <a href="{% url "event-details" event.id %}">
                <button class="mt-6 bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition duration-300 ease-in-out transform hover:scale-105">
                    Read more
                </button>
              </a>
            </div>
        </div>
        {% empty %}
            <div class="col-span-full text-center">
                <p class="text-2xl text-gray-500 font-semibold">No events found.</p>
                <p class="text-gray-400 mt-2">Check back later for upcoming events!</p>
            </div>
        {% endfor %}
    </div>
</div>

{% endblock events %}